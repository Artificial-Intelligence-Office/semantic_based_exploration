<?xml version="1.0" ?>
<launch>
    <arg name="tf_frame" default="world" />
    <arg name="robot_frame" default="base_point_cloud" />
    <arg name="resolution" default="0.15" />
    <arg name="mesh_resolution" default="1.0" />
    <arg name="visualize_max_z" default="5" />
    <arg name="sensor_max_range" default="5.0" />
    <arg name="map_publish_frequency" default="0.08" />
    <arg name="probability_hit" default="0.7" />
    <arg name="probability_miss" default="0.4" />
    <arg name="threshold_min" default="0.12" />
    <arg name="threshold_max" default="0.97" />
    <arg name="threshold_occupancy" default="0.7" />
    <arg name="pcl_topic" default="/pointcloud" />
    <arg name="stl_file_path" default="" />
    <arg name="treat_unknown_as_occupied" default="false" />
    <arg name="latch_topics" default="false" />


    <arg name="param_file" default="$(find usar_exploration)/resources/exploration.yaml"/>
    <arg name="octomap_manager_params_file" default="$(find usar_exploration)/resources/octomap_manager_params.yaml"/>

    <node pkg="tf" type="static_transform_publisher" name="tf_001" args="0 0 0 0 0 0  map world 10" />

    <node name="exploration_node" pkg="usar_exploration" type="exploration_node" output="screen">
        <rosparam command="load" file="$(arg param_file)"/>
        <rosparam command="load" file="$(arg octomap_manager_params_file)"/>
        <param name="tf_frame" type="string" value="$(arg tf_frame)" />
        <param name="robot_frame" type="string" value="$(arg robot_frame)" />
        <param name="resolution" type="double" value="$(arg resolution)" />
        <param name="mesh_resolution" type="double" value="$(arg mesh_resolution)" />
        <param name="visualize_max_z" type="double" value="$(arg visualize_max_z)" />
        <param name="sensor_max_range" type="double" value="$(arg sensor_max_range)" />
        <param name="map_publish_frequency" type="double" value="$(arg map_publish_frequency)" />
        <param name="probability_hit" type="double" value="$(arg probability_hit)" />
        <param name="probability_miss" type="double" value="$(arg probability_miss)" />
        <param name="threshold_min" type="double" value="$(arg threshold_min)" />
        <param name="threshold_max" type="double" value="$(arg threshold_max)" />
        <param name="threshold_occupancy" type="double" value="$(arg threshold_occupancy)" />
        <param name="stl_file_path" type="string" value="$(arg stl_file_path)" />
    </node>

   <node name="rviz" pkg="rviz" type="rviz" args=" -d $(find usar_exploration)/rviz/exploration.rviz"/>



</launch>

